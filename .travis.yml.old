language: node_js
node_js: stable
cache:
  apt: true
  directories:
  - node_modules
install:
- npm install -g hexo
- npm install -g hexo-cli
- npm install
script:
- hexo clean
- hexo g
after_script:
- cd ./public
- git init
- git config --global user.name "Mslxl"
- git config --global user.email "1302485739@qq.com"
- git add -A
- git commit -m "Travis CI Auto Builder"
- git push --force -u "https://${REPO_TOKEN}@${GH_REF}" master
branches:
  only:
  - blog-source
env:
  global:
  - GH_REF: github.com/mslxl/mslxl.github.io
  - secure: FSJL2XYT/1kWfvK1PWjtOTNCrfJTx2WFOwGzKq3ZJTJ4b5MX1Ny28gU2E2QVo/m3djy8yNdGlZwQfe1btzik7q7ebQ4qHXJ3Zkg93sn+IYtxB4UsAAm9appFN51BdjPQeayQNJMSIXJcRtf99/BJvX4/7e+F4ON2RFJwIeP3/Z6NxZfT0hm2DmbURa25M9TKGo30gtVwuACzaRUJi/mq2Hfcg66H8KvUx0KNhYZ536xlYMGenqWvCjZPiK8dLIM4Oc+zsL+N7eROswwzQq1LECAITc8oph63sCld5Adbcq4M2jzmrHG68kzVLd6ZULy70bsIK8R9rIiohcgatfF4XwQZ23X107ZzB8Wf3QJe7frXL8BFexhLTL/k3lH7WluPofqlEuNN2tJSuN9noD5gwCEdCRP0da/vwjYxoOjJyQz94L5meaQ8+rwsqU4JCzflfX0szB2+YFU9xgOGUwOSYl+0/4tSNZxSUNc3/B5f4yPcP3EZXFJLVtykZNnKs6cCuO+t069UG3GtjHhtuaC6NgRwUNPaJovbZQSsPHsj+s7xMGelwhB8/HetCLn9x7mSBxbKywVZ8bvXNXebdpcU/ct4+I3PIaqSbJvsGMucvr04TS0QGsBL43OXqeHmR8R10iMUbO2itzeGVSOCDRWRE2W8WYMOYsviaQ96lGcHJ+Y=
